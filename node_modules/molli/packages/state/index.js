const Freezer = require('freezer-js')
const Kind = require('../kind')
const Store = new Freezer({
  cwd: process.cwd(),
  gql: {
    name: 'type.gql',
    content: null,
    genText: null,
    accessList: [],
    supTypes: [],
    genList: [],
    mutation: null,
    query: null,
  },
  server: {
    gqlEntry: () =>({
      schema: null,
      context: {}
    })
  },
  mongo: {
    db: null,
  }
})
const Event = {
  STARTUP: 'Startup',
  MONGO_CONNECTED: 'MongoConnected',
  GQL_UPDATED: 'GqlUpdated',
  API_UPDATED: 'ApiUpdated'
}

module.exports = {
  Store,
  Hub: Store.getEventHub(),
  Event,
}
