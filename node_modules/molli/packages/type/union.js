const SimpleSchema = require('simpl-schema').default
const Kind = require('../kind')

class Union {
  constructor(config) {
    const ConfigShape = new SimpleSchema({
      name: String,
      types: {
        type: Array,
        optional: true,
        defaultValue: []
      },
      'types.$': String,
    })
    ConfigShape.validate(config)
    Object.assign(
      this,
      { kind: Kind.TYPE_UNION },
      ConfigShape.clean(config)
    )
  }
}

module.exports = Union
